<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>{{ folder }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">{{ folder }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <form
    [formGroup]="formForElements"
    (ngSubmit)="onRun(formForElements.get('inputNumber').value)"
  >
    <ion-grid>
      <ion-row>
        <ion-col size="auto">
          <ion-button
            (click)="onRun(formForElements.get('inputNumber').value)"
            expand="block"
            fill="clear"
            shape="round"
            [disabled]="this.formForElements.invalid"
          >
            Run
          </ion-button>
        </ion-col>
        <ion-col size="auto">
          <ion-button
            (click)="onReset()"
            expand="block"
            fill="clear"
            shape="round"
          >
            Reset
          </ion-button>
        </ion-col>
        <ion-col size="auto">
          <ion-item *ngIf="isMD">
            <ion-label position="fixed">Length</ion-label>
            <ion-button
              (click)="openPicker()"
              expand="full"
              fill="clear"
              shape="round"
              size="small"
            >
              <ion-label slot="start">{{selectedLengthOpt}}</ion-label>
              <ion-icon slot="end" name="caret-down-outline"></ion-icon>
            </ion-button>
          </ion-item>

          <ion-item *ngIf="!isMD">
            <span>Select</span>
            <ion-select
              slot="end"
              [value]="selectedLengthOpt"
              placeholder="Select"
              interface="popover"
              okText="Okay"
              cancelText="Dismiss"
              (ionChange)="arrayLengthHasChanged($event)"
            >
              <ion-select-option
                *ngFor="let option of defArrLenOpts"
                [value]="option.value"
                >{{option.text}}
              </ion-select-option>
            </ion-select>
            <!-- <ion-icon slot="end" name="caret-down-outline"></ion-icon> -->
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-item>
            <ion-label position="floating">Array</ion-label>
            <ion-input
              type="text"
              id="inputNumber"
              formControlName="inputNumber"
              placeholder="Write an array of numbers (es. 4 10 50 2 9)"
            >
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row
        style="
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
        "
      >
        <ion-col
          size="auto"
          *ngFor="let elem of elements; index as i"
          class="ion-align-self-center"
          style="flex-grow: 1"
        >
          <ion-grid>
            <ion-row>
              <ion-col size="12">
                <div style="border: solid 0.1em red; padding: 1em">
                  <ion-label>{{elements[i]}}</ion-label>
                </div>
              </ion-col>
              <ion-col size="12">
                <ion-label style="opacity: 0.8; padding-top: 5px"
                  >{{i}}</ion-label
                >
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
